import{B as g,C as h,D as R,E as m,F as D,H as F,G as L,I as x,J as k,K as C,L as y,M as O,U as q,N as B,O as H,P as M,Q as P,R as U,S as Y,T as G,i as J,V as K}from"./Ce8YuaDY.js";function V(s,f,c=!1){h&&R();var i=s,e=null,a=null,r=q,I=c?m:0,u=!1;const N=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&H(l),t&&M(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let T=!1;if(h){const S=D(i)===F;!!r===S&&(i=L(),x(i),k(!1),T=!0)}var b=B(),d=i;if(b&&(n=document.createDocumentFragment(),n.append(d=C())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),b){var _=O,p=r?e:a,E=r?a:e;p&&_.skipped_effects.delete(p),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();T&&k(!0)};g(()=>{u=!1,f(N),u||v(null,null)},I),h&&(i=P)}function A(s,f){return s===f||s?.[K]===f}function Z(s={},f,c,i){return U(()=>{var e,a;return Y(()=>{e=a,a=[],J(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{G(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{Z as b,V as i};
